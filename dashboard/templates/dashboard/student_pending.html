{% extends "dashboard/student_base_dashboard.html" %}
{% load static %}

{% block title %}Pending Requests{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto space-y-8">
    <!-- Header -->
    <div class="relative overflow-hidden bg-gradient-to-r from-amber-500 via-orange-500 to-red-500 rounded-3xl p-8 text-white">
        <div class="relative z-10 flex items-center gap-4">
            <div class="h-14 w-14 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center">
                <i data-lucide="hourglass" class="h-7 w-7"></i>
            </div>
            <div>
                <h2 class="text-3xl font-extrabold">Pending Approvals</h2>
                <p class="text-amber-100">Classes waiting for administrator approval</p>
            </div>
        </div>
        <div class="absolute top-0 right-0 -mt-10 -mr-10 w-64 h-64 bg-white/10 rounded-full blur-3xl"></div>
    </div>

    <!-- Pending List -->
    <div class="space-y-4">
        {% for enrollment in enrollments %}
        <div class="bg-white rounded-2xl border border-gray-100 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
            <div class="flex flex-col md:flex-row items-start md:items-center justify-between gap-4">
                <div class="flex items-center gap-4">
                    <div class="h-14 w-14 rounded-2xl bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center text-white shadow-lg shadow-amber-500/30">
                        <i data-lucide="book-open" class="h-7 w-7"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-gray-900 text-lg">{{ enrollment.clazz.class_name }}</h3>
                        <div class="flex flex-wrap items-center gap-3 text-sm text-gray-500 mt-1">
                            <span class="flex items-center gap-1">
                                <i data-lucide="calendar" class="h-3.5 w-3.5 text-amber-500"></i>
                                Requested: {{ enrollment.enrollment_date|date:"M d, Y" }}
                            </span>
                            <span class="flex items-center gap-1">
                                <i data-lucide="tag" class="h-3.5 w-3.5 text-amber-500"></i>
                                {{ enrollment.clazz.class_type.code }}
                            </span>
                        </div>
                    </div>
                </div>
                
                <div class="flex items-center gap-3 w-full md:w-auto">
                    {% if not enrollment.is_paid %}
                    <div class="flex-1 md:flex-none px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl text-sm text-gray-600 flex items-center justify-center gap-2 font-medium">
                        <i data-lucide="credit-card" class="h-4 w-4"></i>
                        Pending Payment
                    </div>
                    {% else %}
                    <div class="flex-1 md:flex-none px-4 py-2.5 bg-emerald-50 border border-emerald-200 rounded-xl text-sm text-emerald-700 flex items-center justify-center gap-2 font-medium">
                        <i data-lucide="check-circle" class="h-4 w-4"></i>
                        Paid
                    </div>
                    {% endif %}
                    <span class="px-4 py-2 rounded-xl bg-gradient-to-r from-amber-100 to-orange-100 text-amber-800 text-sm font-bold border border-amber-200">
                        <i data-lucide="clock" class="inline h-3.5 w-3.5 mr-1"></i>
                        Waiting
                    </span>
                </div>
            </div>
        </div>
        {% empty %}
        <div class="text-center py-16 bg-white rounded-2xl border-2 border-dashed border-gray-200">
            <div class="h-20 w-20 bg-gradient-to-br from-amber-100 to-orange-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <i data-lucide="inbox" class="h-10 w-10 text-amber-400"></i>
            </div>
            <h3 class="text-xl font-bold text-gray-900 mb-2">No Pending Requests</h3>
            <p class="text-gray-500">All your enrollment requests have been processed.</p>
        </div>
        {% endfor %}
    </div>

    <!-- Info Box -->
    <div class="bg-gradient-to-r from-blue-50 to-cyan-50 border border-blue-100 rounded-2xl p-6 flex gap-4">
        <div class="h-12 w-12 bg-blue-100 rounded-xl flex items-center justify-center text-blue-600 shrink-0">
            <i data-lucide="info" class="h-6 w-6"></i>
        </div>
        <div>
            <h4 class="font-bold text-blue-900 mb-1">Registration Information</h4>
            <p class="text-sm text-blue-700">
                To complete your registration, please ensure any required fees are paid. 
                Contact the administration office if you have questions about payment methods. 
                Once paid and verified, your status will be updated to "Approved".
            </p>
        </div>
    </div>
</div>
{% endblock %}